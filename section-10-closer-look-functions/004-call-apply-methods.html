<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      * {
        padding: 0;
        margin: 0;
      }
      body {
        font-family: sans-serif;
        height: 100vh;
        font-size: 16px;
        display: flex;
        align-items: center;
        color: white;
        background: linear-gradient(to top left, #28b487, #7dd56f);
      }
      .contaier {
        display: flex;
      }
      h1 {
        font-size: 3.2rem;
        line-height: 1.3;
        width: 100%;
        padding: 30px;
        text-align: center;
      }
      h2 {
        font-size: 1.8rem;
      }
      button {
        width: 50px;
        height: 20px;
        margin: 10px;
      }
      textarea {
        width: 300px;
        height: 100px;
      }
    </style>
    <title>The call and apply methods in Javascript</title>
  </head>
  <body>
    <div class="container">
      <h1>The call and apply methods in Javascript</h1>
      <h2></h2>
      <br />
      <h2 class="abstraction"></h2>
    </div>

    <script>
      "use strict";
      const lufthansa = {
        airline: "Lufthansa",
        iataCode: "LH",
        bookings: [],
        // book : function(){}
        book(flightNum, name) {
          console.log(
            `${name} booked a seat on ${this.airline} flight ${this.iataCode}${flightNum}`,
          );
          this.bookings.push({ flight: `${this.iataCode}${flightNum}`, name });
        },
      };
      lufthansa.book(239, "Abhimany Roy");
      lufthansa.book(635, "Sonu Roy");
      console.log(lufthansa.bookings);

      // //   we can take book function from the object lufthansa, but you cannot call the return method because it will simply through error, due to the reason of 'this', keyword, now book method is treated like any other regular fucntions
      //   const book = lufthansa.book;
      //   console.log(book);
      //   book(2332, "Abhim");

      const book = lufthansa.book;
      const eurowings = {
        airline: "eurowings",
        iataCode: "LW",
        bookings: [],
      };
      const airindia = {
        airline: "airindia",
        iataCode: "IA",
        bookings: [],
      };
      const laura = {
        airline: "laura",
        iataCode: "LA",
        bookings: [],
      };
      // code reusability - using CALL method
      book.call(lufthansa, 249, "abhi");
      console.log(lufthansa.bookings);
      book.call(eurowings, 207, "abhi");
      console.log(eurowings.bookings);
      book.call(airindia, 230, "abhi");
      console.log(airindia.bookings);
      book.call(laura, 293, "abhi");
      console.log(laura.bookings);

      //   //   Apply method
      //   const flightData = [543, "Abhi"];
      //   book.apply(lufthansa, flightData);
      //   console.log(lufthansa.bookings);

      //   Modern way to do this, as we avoid using apply method
      const flightData = [543, "Abhi"];
      book.call(lufthansa, ...flightData);
      console.log(lufthansa.bookings);
    </script>
  </body>
</html>
