<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      * {
        padding: 0;
        margin: 0;
      }
      body {
        height: 100vh;
        display: flex;
        align-items: center;
        background: linear-gradient(to top left, #28b487, #7dd56f);
      }
      h1 {
        font-family: sans-serif;
        font-size: 50px;
        line-height: 1.3;
        width: 100%;
        padding: 30px;
        text-align: center;
        color: white;
      }
      button {
        width: 50px;
        height: 20px;
        margin: 10px;
      }
      textarea {
        width: 300px;
        height: 100px;
      }
    </style>
    <title>Maps in Javascript</title>
  </head>
  <body>
    <h1>Maps in Javascript</h1>

    <script>
      "use strict";
      const rest = new Map();
      //   SET() - map.set(key,value) to add key value pair
      rest.set("name", "Classico Italiano");
      rest.set(1, "Firenze, Italy");
      console.log(rest.set(2, "Lisbon, Portugal"));

      //   we can chain multiple set methods on map
      rest
        .set("categories", ["Italian", "Pizzeria", "Vegetarian", "Organic"])
        .set("open", 11)
        .set("close", 23);
      console.log(rest);

      //  GET() - map.get(key) Retrieving value from map
      console.log(rest.get("name"));
      console.log(rest.get(true)); //doesn't exist so undefined
      console.log(rest.get(1));

      //   HAS() - map.has(key) method to check if key exist inside map
      console.log(rest.has("categories"));
      //   DELETE - map.delete(key) to delete key from the map if exist
      console.log(rest.delete(2)); //will return true if the key is deleted successfully false otherwise
      console.log(rest);

      //   CLEAR()- map.clear() - as the name say everything

      // SIZE - map.size to check current size of our map it is not a function
      console.log(rest.size);

      //   we can also store array as key, sounds crazy but in javascript it is possible
      rest.set([1, 2], "storing array"); //[1,2] can't be retrieved they are gone for good
      console.log(rest);
      console.log(rest.get([1, 2])); // [1,2] which we are providing and [1,2] which is present inside map are not the same, as they occupy different reference in memory
      const arr = [1, 2, 3];
      console.log(rest.set(arr, "Three item arr"));

      // ------------------------------------------xxxxxxxxxxx-------------------------------------------------
      // ------------------------------------------xxxxxxxxxxx-------------------------------------------------

      // ------------------------------------------xxxxxxxxxxx-------------------------------------------------
      // ------------------------------------------MAPS ITERATION----------------------------------------------

      const question = new Map([
        ["question", "What is the best programming language in the world"],
        [1, "C"],
        [2, "Java"],
        [3, "javascript"],
        ["correct", 3],
        [true, "Correct"],
        [false, "Try again"],
      ]);
      console.log(question);
      console.log(question.size);

      //   convert object to map
      const openingHours = {
        thu: { open: 10, close: 23 },
        fri: { open: 11, close: 22 },
        sat: { open: 0, close: 24 },
      };
      console.log(openingHours);
      console.log(Object.entries(openingHours));
      const hoursMap = new Map(Object.entries(openingHours));
      console.log(hoursMap);
      // object destructuring nested inside array destructuring
      for (const [key, { open, close }] of hoursMap) {
        console.log(key, open, close);
        // console.log(typeof key, typeof value);
      }

      //   Convert map to array
      const mapToArr = [...question]; //as map are also iterables
      console.log(mapToArr);
      // getting keys and value and then packing into array using spread operator
      console.log([...question.keys()]);
      console.log([...question.values()]);
    </script>
  </body>
</html>
